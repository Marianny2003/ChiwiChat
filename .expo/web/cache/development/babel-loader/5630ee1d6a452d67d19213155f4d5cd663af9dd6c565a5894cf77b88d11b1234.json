{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Header from \"../components/Header\";\nimport Input from \"../components/Input\";\nimport Card from \"../components/Card\";\nimport Botton from \"../components/Botton\";\nimport BottonCancel from \"../components/BottonCancel\";\nimport BottomNavBar from \"../components/BottomNavBar\";\nimport NavHead from \"../components/NavHead\";\nimport Container from \"../components/Container\";\nimport ContentContainer from \"../components/contentContainer\";\nimport useProfile from \"../hooks/useProfile\";\nimport FlashMessage, { showMessage } from 'react-native-flash-message';\nimport { useValidarContrasena, useValidarLasContrasenas } from \"../hooks/useValidacion\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CambioContraseñaScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useProfile = useProfile(),\n    profile = _useProfile.profile,\n    handleUpdateProfile = _useProfile.handleUpdateProfile;\n  var _useValidarContrasena = useValidarContrasena(),\n    _useValidarContrasena2 = _slicedToArray(_useValidarContrasena, 5),\n    contrasenia = _useValidarContrasena2[0],\n    setContrasenia = _useValidarContrasena2[1],\n    ErrorContrasenia = _useValidarContrasena2[2],\n    validarContrasenia = _useValidarContrasena2[3],\n    resetErrorContrasenia = _useValidarContrasena2[4];\n  var _useValidarLasContras = useValidarLasContrasenas(),\n    _useValidarLasContras2 = _slicedToArray(_useValidarLasContras, 7),\n    contrasenia1 = _useValidarLasContras2[0],\n    setContrasenia1 = _useValidarLasContras2[1],\n    contrasenia2 = _useValidarLasContras2[2],\n    setContrasenia2 = _useValidarLasContras2[3],\n    ErrorContrasenias = _useValidarLasContras2[4],\n    validarContrasenias = _useValidarLasContras2[5],\n    resetErrorContrasenias = _useValidarLasContras2[6];\n  var handleContraseniaChange = function handleContraseniaChange(text) {\n    setContrasenia(text);\n    validarContrasenia();\n    if (contrasenia && !ErrorContrasenia) {\n      resetErrorContrasenia();\n    }\n  };\n  var handleContrasenia1Change = function handleContrasenia1Change(text) {\n    setContrasenia1(text);\n    validarContrasenias();\n    if (contrasenia1 && !ErrorContrasenias) {\n      resetErrorContrasenias();\n    }\n  };\n  var handleContrasenia2Change = function handleContrasenia2Change(text) {\n    setContrasenia2(text);\n    validarContrasenias();\n    if (contrasenia2 && !ErrorContrasenias) {\n      resetErrorContrasenias();\n    }\n  };\n  var handleCambioContrasenia = function handleCambioContrasenia() {\n    validarContrasenia();\n    validarContrasenias();\n    if (contrasenia && contrasenia1 && contrasenia2 && !ErrorContrasenia && !ErrorContrasenias) {\n      if (contrasenia === profile.clave) {\n        handleUpdateProfile('clave', contrasenia1);\n        setContrasenia('');\n        setContrasenia1('');\n        setContrasenia2('');\n        resetErrorContrasenia();\n        resetErrorContrasenias();\n        showMessage({\n          message: 'Contraseña cambiada exitosamente!',\n          description: 'Tu contraseña ha sido actualizada.',\n          type: 'success'\n        });\n      } else {\n        showMessage({\n          message: 'Error de Contraseña!',\n          description: 'La contraseña actual es incorrecta.',\n          type: 'danger'\n        });\n      }\n    } else {\n      showMessage({\n        message: 'Error de Datos!',\n        description: 'Por favor ingresa todos los campos correctamente.',\n        type: 'danger'\n      });\n    }\n  };\n  var handleCancelar = function handleCancelar() {\n    setContrasenia('');\n    setContrasenia1('');\n    setContrasenia2('');\n    resetErrorContrasenia();\n    resetErrorContrasenias();\n  };\n  return _jsxs(Container, {\n    children: [_jsx(FlashMessage, {\n      position: \"center\"\n    }), _jsx(NavHead, {\n      navigation: navigation\n    }), _jsxs(ContentContainer, {\n      children: [_jsx(Header, {\n        Titulo: \"Modificar Contrase\\xF1a\"\n      }), _jsxs(Card, {\n        children: [_jsx(Input, {\n          label: \"Contrase\\xF1a Actual\",\n          icon: \"lock\",\n          placeholder: \"Ingresar la Contrase\\xF1a\",\n          value: contrasenia,\n          onChangeText: handleContraseniaChange,\n          onBlur: validarContrasenia,\n          error: ErrorContrasenia,\n          iconError: ErrorContrasenia ? 'warning' : null\n        }), _jsx(Input, {\n          label: \"Nueva Contrase\\xF1a\",\n          icon: \"lock\",\n          placeholder: \"Ingresar Nueva Contrase\\xF1a\",\n          value: contrasenia1,\n          onChangeText: handleContrasenia1Change,\n          onBlur: validarContrasenias,\n          error: ErrorContrasenias,\n          iconError: ErrorContrasenias ? 'warning' : null\n        }), _jsx(Input, {\n          label: \"Repetir Contrase\\xF1a\",\n          icon: \"lock\",\n          placeholder: \"Repetir Nueva Contrase\\xF1a\",\n          value: contrasenia2,\n          onChangeText: handleContrasenia2Change,\n          onBlur: validarContrasenias,\n          error: ErrorContrasenias,\n          iconError: ErrorContrasenias ? 'warning' : null\n        }), _jsxs(View, {\n          style: styles.buttonContainer,\n          children: [_jsx(Botton, {\n            title: \"Modificar\",\n            onPress: handleCambioContrasenia\n          }), _jsx(BottonCancel, {\n            title: \"Cancelar\",\n            onPress: handleCancelar\n          })]\n        }), _jsx(Botton, {\n          title: \"Modificar Datos del Perfil\",\n          onPress: function onPress() {\n            return navigation.navigate('Perfil');\n          }\n        })]\n      })]\n    }), _jsx(BottomNavBar, {\n      navigation: navigation\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 10,\n    width: '100%'\n  }\n});","map":{"version":3,"names":["React","View","StyleSheet","Header","Input","Card","Botton","BottonCancel","BottomNavBar","NavHead","Container","ContentContainer","useProfile","FlashMessage","showMessage","useValidarContrasena","useValidarLasContrasenas","jsx","_jsx","jsxs","_jsxs","CambioContraseñaScreen","_ref","navigation","_useProfile","profile","handleUpdateProfile","_useValidarContrasena","_useValidarContrasena2","_slicedToArray","contrasenia","setContrasenia","ErrorContrasenia","validarContrasenia","resetErrorContrasenia","_useValidarLasContras","_useValidarLasContras2","contrasenia1","setContrasenia1","contrasenia2","setContrasenia2","ErrorContrasenias","validarContrasenias","resetErrorContrasenias","handleContraseniaChange","text","handleContrasenia1Change","handleContrasenia2Change","handleCambioContrasenia","clave","message","description","type","handleCancelar","children","position","Titulo","label","icon","placeholder","value","onChangeText","onBlur","error","iconError","style","styles","buttonContainer","title","onPress","navigate","create","flexDirection","justifyContent","marginBottom","width"],"sources":["C:/Mis documentos/Escritorio/ChiwiChat/screens/CambioContraseñaScreen.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport Header from '../components/Header';\nimport Input from '../components/Input';\nimport Card from '../components/Card';\nimport Botton from '../components/Botton';\nimport BottonCancel from '../components/BottonCancel';\nimport BottomNavBar from '../components/BottomNavBar';\nimport NavHead from '../components/NavHead';\nimport Container from '../components/Container';\nimport ContentContainer from '../components/contentContainer';\nimport useProfile from '../hooks/useProfile';\nimport FlashMessage, { showMessage } from 'react-native-flash-message';\nimport { useValidarContrasena, useValidarLasContrasenas } from '../hooks/useValidacion';\n\nexport default function CambioContraseñaScreen({ navigation }) {\n  const { profile, handleUpdateProfile } = useProfile();\n  const [contrasenia, setContrasenia, ErrorContrasenia, validarContrasenia, resetErrorContrasenia] = useValidarContrasena();\n  const [contrasenia1, setContrasenia1, contrasenia2, setContrasenia2, ErrorContrasenias, validarContrasenias, resetErrorContrasenias] = useValidarLasContrasenas();\n\n  const handleContraseniaChange = (text) => {\n    setContrasenia(text);\n    validarContrasenia();  \n    if (contrasenia && !ErrorContrasenia ) {\n      resetErrorContrasenia();\n    }\n  };\n\n  const handleContrasenia1Change = (text) => {\n    setContrasenia1(text);\n    validarContrasenias();  \n    if (contrasenia1 && !ErrorContrasenias ) {\n      resetErrorContrasenias();\n    }\n  };\n\n  const handleContrasenia2Change = (text) => {\n    setContrasenia2(text);\n    validarContrasenias();  \n    if (contrasenia2 && !ErrorContrasenias ) {\n      resetErrorContrasenias();\n    }\n  };\n\n  const handleCambioContrasenia = () => {\n    validarContrasenia();\n    validarContrasenias();\n    if (contrasenia && contrasenia1 && contrasenia2 && !ErrorContrasenia && !ErrorContrasenias) {\n      if (contrasenia === profile.clave) {\n        handleUpdateProfile('clave', contrasenia1);\n        setContrasenia('');\n        setContrasenia1('');\n        setContrasenia2('');\n        resetErrorContrasenia();\n        resetErrorContrasenias();\n        showMessage({\n          message: 'Contraseña cambiada exitosamente!',\n          description: 'Tu contraseña ha sido actualizada.',\n          type: 'success',\n        });\n      } else {\n        showMessage({\n          message: 'Error de Contraseña!',\n          description: 'La contraseña actual es incorrecta.',\n          type: 'danger',\n        });\n      }\n    } else {\n      showMessage({\n        message: 'Error de Datos!',\n        description: 'Por favor ingresa todos los campos correctamente.',\n        type: 'danger',\n      });\n    }\n  };\n\n  const handleCancelar = () => {\n    setContrasenia('');\n    setContrasenia1('');\n    setContrasenia2('');\n    resetErrorContrasenia();\n    resetErrorContrasenias();\n  };\n\n  return (\n    <Container>\n      <FlashMessage position=\"center\" />  \n      <NavHead navigation={navigation} />\n      <ContentContainer>\n        <Header Titulo=\"Modificar Contraseña\" />\n        <Card>\n          <Input\n            label=\"Contraseña Actual\"\n            icon=\"lock\"\n            placeholder=\"Ingresar la Contraseña\"\n            value={contrasenia}\n            onChangeText={handleContraseniaChange}\n            onBlur={validarContrasenia} \n            error={ErrorContrasenia}\n            iconError={ErrorContrasenia ? 'warning' : null}\n          />\n          <Input\n            label=\"Nueva Contraseña\"\n            icon=\"lock\"\n            placeholder=\"Ingresar Nueva Contraseña\"\n            value={contrasenia1}\n            onChangeText={handleContrasenia1Change}\n            onBlur={validarContrasenias} \n            error={ErrorContrasenias}\n            iconError={ErrorContrasenias ? 'warning' : null}\n          />\n          <Input\n            label=\"Repetir Contraseña\"\n            icon=\"lock\"\n            placeholder=\"Repetir Nueva Contraseña\"\n            value={contrasenia2}\n            onChangeText={handleContrasenia2Change}\n            onBlur={validarContrasenias}  \n            error={ErrorContrasenias}\n            iconError={ErrorContrasenias ? 'warning' : null}\n          />\n          <View style={styles.buttonContainer}>\n            <Botton title=\"Modificar\" onPress={handleCambioContrasenia} />\n            <BottonCancel title=\"Cancelar\" onPress={handleCancelar} />\n          </View>\n          <Botton title=\"Modificar Datos del Perfil\" onPress={() => navigation.navigate('Perfil')} />\n        </Card>\n      </ContentContainer>\n      <BottomNavBar navigation={navigation} />\n    </Container>\n  );\n}\n\nconst styles = StyleSheet.create({\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 10,\n    width: '100%',\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}